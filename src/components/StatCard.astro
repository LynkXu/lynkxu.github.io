---
const { label, value, unit, subtext, id } = Astro.props;
---

<div class="stat-card" id={id}>
  <div class="stat-label">{label}</div>
  <div class="stat-main">
    <span class="stat-value">{value}</span>
    {unit && <span class="stat-unit">{unit}</span>}
  </div>
  {subtext && <div class="stat-sub">{subtext}</div>}
</div>

<style>
  .stat-card {
    --card-bg: var(--code-background-color);
    --card-border-top: rgba(0, 0, 0, 0.07);
    --card-border-bottom: rgba(0, 0, 0, 0.025);

    /* 细腻的“渐变描边”：比纯色 border 更精致 */
    background:
      linear-gradient(var(--card-bg), var(--card-bg)) padding-box,
      linear-gradient(180deg, var(--card-border-top), var(--card-border-bottom)) border-box;
    padding: 1.15rem 1.25rem;
    border-radius: 18px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    border: 1px solid transparent;
    position: relative;
    overflow: hidden;
    box-shadow: 0 1px 0 rgba(0, 0, 0, 0.02);
  }

  .stat-card:hover {
    --card-border-top: rgba(0, 0, 0, 0.09);
    --card-border-bottom: rgba(0, 0, 0, 0.035);
    transform: translateY(-2px);
    box-shadow: 0 14px 32px -22px rgba(0, 0, 0, 0.35);
    background: var(--background-color);
  }

  :global([data-theme="dark"]) .stat-card,
  :global(:root[data-theme="dark"]) .stat-card {
    --card-border-top: rgba(255, 255, 255, 0.10);
    --card-border-bottom: rgba(255, 255, 255, 0.04);
    box-shadow: 0 1px 0 rgba(255, 255, 255, 0.03);
  }

  :global([data-theme="dark"]) .stat-card:hover,
  :global(:root[data-theme="dark"]) .stat-card:hover {
    --card-border-top: rgba(255, 255, 255, 0.12);
    --card-border-bottom: rgba(255, 255, 255, 0.05);
    box-shadow: 0 16px 36px -26px rgba(0, 0, 0, 0.55);
  }

  @media (prefers-color-scheme: dark) {
    :global(:root:not([data-theme="light"])) .stat-card {
      --card-border-top: rgba(255, 255, 255, 0.10);
      --card-border-bottom: rgba(255, 255, 255, 0.04);
      box-shadow: 0 1px 0 rgba(255, 255, 255, 0.03);
    }
    :global(:root:not([data-theme="light"])) .stat-card:hover {
      --card-border-top: rgba(255, 255, 255, 0.12);
      --card-border-bottom: rgba(255, 255, 255, 0.05);
      box-shadow: 0 16px 36px -26px rgba(0, 0, 0, 0.55);
    }
  }

  .stat-label {
    font-size: 0.72rem;
    color: var(--gray-color);
    margin-bottom: 0.65rem;
    font-weight: 650;
    text-transform: none;
    letter-spacing: 0.02em;
  }

  .stat-main {
    display: flex;
    align-items: baseline;
    gap: 0.35rem;
  }

  .stat-value {
    font-size: clamp(1.55rem, 1.4rem + 1.2vw, 2.05rem);
    font-weight: 760;
    color: var(--heading-color);
    line-height: 1;
    font-family: var(--font-heading, inherit);
    letter-spacing: -0.035em;
    font-variant-numeric: tabular-nums;
  }

  .stat-unit {
    font-size: 0.9rem;
    color: var(--gray-color);
    font-weight: 500;
    letter-spacing: 0;
    transform: translateY(-0.03em);
  }

  .stat-sub {
    margin-top: 0.6rem;
    font-size: 0.85rem;
    color: var(--gray-color);
    opacity: 0.75;
    font-weight: 500;
    line-height: 1.45;
  }
</style>

